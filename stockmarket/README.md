```
MySQL [F17336Gteam8]> describe traders;
+---------------+--------------+------+-----+---------+----------------+
| Field         | Type         | Null | Key | Default | Extra          |
+---------------+--------------+------+-----+---------+----------------+
| trader_id     | int(11)      | NO   | PRI | NULL    | auto_increment |
| name          | varchar(30)  | NO   |     | NULL    |                |
| total_balance | double(18,4) | NO   |     | NULL    |                |
+---------------+--------------+------+-----+---------+----------------+
```

Traders to trade options can be found in above table;

```
MySQL [F17336Gteam8]> describe STOCK_TRADE;
+----------------+---------------+------+-----+---------+-------+
| Field          | Type          | Null | Key | Default | Extra |
+----------------+---------------+------+-----+---------+-------+
| INSTRUMENT_ID  | int(11)       | NO   | PRI | NULL    |       |
| TRADE_DATE     | date          | NO   | PRI | NULL    |       |
| TRADE_SEQ_NBR  | int(11)       | NO   | PRI | NULL    |       |
| TRADING_SYMBOL | varchar(15)   | YES  | MUL | NULL    |       |
| TRADE_TIME     | datetime      | YES  | MUL | NULL    |       |
| TRADE_PRICE    | decimal(18,4) | YES  | MUL | NULL    |       |
| TRADE_SIZE     | int(11)       | YES  | MUL | NULL    |       |
+----------------+---------------+------+-----+---------+-------+
```

The table holds current stock price at any time. `TRADE_DATE`,
`TRADE_TIME`, `TRADE_Price`, `TRADE_SIZE` will be updated by
[`makewave_v2`](./sp_makewave_v2.sql) stored procedue - which is to be
called before any other trigger/stroed procedure. Summery of changes to
table by `makewave_v2`:

+ Date increments by a day
+ Time is random hours on that same date
+ Price random positive double
+ Size is random positive integer

```
MySQL [F17336Gteam8]> describe option_quotes;
+----------------+--------------+------+-----+---------+----------------+
| Field          | Type         | Null | Key | Default | Extra          |
+----------------+--------------+------+-----+---------+----------------+
| quote_id       | int(11)      | NO   | PRI | NULL    | auto_increment |
| instrument_id  | int(11)      | NO   |     | NULL    |                |
| trader_id      | int(11)      | NO   |     | NULL    |                |
| is_active      | tinyint(1)   | NO   |     | 1       |                |
| trader_type    | tinyint(1)   | NO   |     | NULL    |                |
| option_type    | tinyint(1)   | NO   |     | NULL    |                |
| trade_size     | int(11)      | NO   |     | NULL    |                |
| premium        | double(18,4) | NO   |     | NULL    |                |
| strike_price   | double(18,4) | NO   |     | NULL    |                |
| option_expires | datetime     | NO   |     | NULL    |                |
| offer_expires  | datetime     | NO   |     | NULL    |                |
+----------------+--------------+------+-----+---------+----------------+
```

Each row in `option_quotes` table represents a `stock option` offer made by
a potential buyer or a seller. At what primimum + number of stock + strike
price with expiration etc any trader is willing to trade at until the offer
expires.

The offers (each [new] row in table) will be generated by stored procedure
`generate_offer`. For For this project:

+ Primimum is to be 5% of the total price = (`trade_size` *
  `STOCK_TRADE.TRADE_PRICE`)
+ If buyer ensure they have enough money left to make it a valid offer
+ Strike price is to be a small percentage up/down from current stock price

```
MySQL [F17336Gteam8]> describe option_transactions;
+-------------------------+--------------+------+-----+---------+-------+
| Field                   | Type         | Null | Key | Default | Extra |
+-------------------------+--------------+------+-----+---------+-------+
| quote_id                | int(11)      | NO   |     | NULL    |       |
| buyer_id                | int(11)      | NO   |     | NULL    |       |
| seller_id               | int(11)      | NO   |     | NULL    |       |
| transaction_complete    | tinyint(1)   | NO   |     | 0       |       |
| transaction_date        | date         | NO   |     | NULL    |       |
| option_expires          | date         | NO   |     | NULL    |       |
| open_stock_price        | int(5)       | YES  |     | NULL    |       |
| transaction_stock_price | double(18,4) | NO   |     | NULL    |       |
| buyer_gain              | double(18,4) | NO   |     | NULL    |       |
| seller_gain             | double(18,4) | NO   |     | NULL    |       |
+-------------------------+--------------+------+-----+---------+-------+
```

A stock trader will look at the `option_quotes` table for offers made and
decide which(identified by `quote_id`) of the offer to transact on. The
transaction will be made by calling sored proceduere `option_trade`**[to be
implemented]** with input of a `option_quotes.quote_id`. The stored
proceudure will add row to `option_transactions` table. Like `makewave_v2`
trading should be limited to time between 9 to 16.

The `option_expires` is arbitarily decided to expire at the end (after
16:00) of some day (1 to 3 day). This allows for only one check/scan of
`opton_transactions` table at the end of each day for any transaction that
has expired that day - and calculate and update buyer's and seller's gain.
This is to simulate that each trader makes put/call buy/sell decision at
the "last second" before the option expires.

The check/scanning can be done with stored procedure `calculate_gains`
**[to be implemented]** which will look at current price of stock price
information and make (not recorded) the logical buy/sell of the option and
based on that update the `buyer_gain` and `seller_gain` field of
`option_transactions`.
